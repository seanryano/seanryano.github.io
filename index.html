
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Navigation / Sub navigation dark | Examples | Vanilla framework documentation</title>

    
    <link rel="stylesheet" type="text/css" href="dist/style.css" />
    
    <link rel="icon" href="https://assets.ubuntu.com/v1/ab36e6ed-vanilla_favicon_32px.png" type="image/x-icon" />


    <style>
      html::after {
        background: linear-gradient(to top, rgba(255,0,0,0.15), rgba(255,0,0,0.15) 1px, rgba(255,0,0,0.05) 1px, rgba(255,0,0,0.05));
        background-size: 100% .5em;
        bottom: 0;
        content: '';
        display: block;
        left: 0;
        pointer-events: none;
        position: absolute;
        right: 0;
        top: 0;
        z-index: -1;
      }

      body {
        background-color: #fff;
        margin: 1rem;
      }
    </style>

    <script>
      (function() {
        function inIframe () {
          try {
            return window.self !== window.top;
          } catch (e) {
            return true;
          }
        }

        function fragmentFromString(htmlString) {
          var temp = document.createElement('template');
          temp.innerHTML = htmlString;
          return temp.content;
        }

        if (!inIframe()) {
          document.addEventListener('DOMContentLoaded', function() {
            var body = document.body;
            var controls = fragmentFromString('<div class="u-baseline-grid__toggle"><label>Toggle baseline grid<input type="checkbox" class="p-switch js-baseline-toggle" /><div class="p-switch__slider"></div></label></div>');
            body.appendChild(controls);

            var toggle = document.querySelector('.js-baseline-toggle');
            toggle.addEventListener('click', function (event) {
              body.classList.toggle('u-baseline-grid');
            });
          });
        }
      })();
    </script>
  </head>

  <body>
    
<header id="navigation" class="p-navigation is-dark">
  <div class="p-navigation__row">
    <div class="p-navigation__banner">
      <div class="p-navigation__logo">
        <a class="p-navigation__item" href="#">
          <img class="p-navigation__image" src="https://assets.ubuntu.com/v1/20673d9f-lxd_primary--for-dark-bg.svg" alt="" width="95" />
        </a>
      </div>
      <a href="#navigation" class="p-navigation__toggle--open" title="menu">Menu</a>
      <a href="#navigation-closed" class="p-navigation__toggle--close" title="close menu">Close menu</a>
    </div>
    <nav class="p-navigation__nav">
      <span class="u-off-screen">
        <a href="#main-content">Jump to main content</a>
      </span>
      <ul class="p-navigation__items" role="menu">
        <li class="p-navigation__item p-subnav" role="menuitem" id="link-1">
          <a href="#link-1-menu" aria-controls="link-1-menu" class="p-subnav__toggle p-navigation__link">LXC</a>
          <ul class="p-subnav__items" id="link-1-menu" aria-hidden="true">
            <li>
              <a href="#" class="p-subnav__item">Introduction</a>
            </li>
            <li>
              <a href="#" class="p-subnav__item">News</a>
            </li>
            <li>
              <a href="#" class="p-subnav__item">Getting started</a>
            </li>
          </ul>
        </li>
        <li class="p-navigation__item p-subnav" role="menuitem" id="link-2">
          <a href="#link-2-menu" aria-controls="link-2-menu" class="p-subnav__toggle p-navigation__link">LXD</a>
          <ul class="p-subnav__items" id="link-2-menu" aria-hidden="true">
            <li>
              <a href="#" class="p-subnav__item">Introduction</a>
            </li>
            <li>
              <a href="#" class="p-subnav__item">News</a>
            </li>
            <li>
              <a href="#" class="p-subnav__item">Getting started - Command line</a>
            </li>
            <li>
              <a href="#" class="p-subnav__item">Getting started - OpenStack</a>
            </li>
            <li>
              <a href="#" class="p-subnav__item">Getting started - OpenNebula</a>
            </li>
          </ul>
        </li>
        <li class="p-navigation__item p-subnav is-active" role="menuitem" id="link-3">
          <a href="#link-3-menu" aria-controls="link-3-menu" class="p-subnav__toggle p-navigation__link">LXCFS</a>
          <ul class="p-subnav__items" id="link-3-menu" aria-hidden="false">
            <li>
              <a href="#" class="p-subnav__item">Introduction</a>
            </li>
            <li>
              <a href="#" class="p-subnav__item">News</a>
            </li>
            <li>
              <a href="#" class="p-subnav__item">Getting started</a>
            </li>
          </ul>
        </li>
      </ul>
      <ul class="p-navigation__items" role="menu">
        <li class="p-navigation__item p-subnav" role="menuitem" id="link-1">
          <a class="p-subnav__toggle p-navigation__link" aria-controls="account-menu">
            My account
          </a>
          <ul class="p-subnav__items--right" id="account-menu" aria-hidden="true">
            <li>
              <a href="#" class="p-subnav__item">Sign out</a>
            </li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>

<script>
  /**
  Toggles visibility of given subnav by toggling is-active class to it
  and setting aria-hidden attribute on dropdown contents.
  @param {HTMLElement} subnav Root element of subnavigation to open.
*/
function toggleSubnav(subnav, open) {
  if (open) {
    subnav.classList.add('is-active');
  } else {
    subnav.classList.remove('is-active');
  }

  var toggle = subnav.querySelector('.p-subnav__toggle');

  if (toggle) {
    var dropdown = document.getElementById(toggle.getAttribute('aria-controls'));

    if (dropdown) {
      dropdown.setAttribute('aria-hidden', open ? 'true' : false);
    }
  }
}

/**
  Closes all subnavs on the page.
*/
function closeAllSubnavs() {
  var subnavs = document.querySelectorAll('.p-subnav');
  for (var i = 0, l = subnavs.length; i < l; i++) {
    toggleSubnav(subnavs[i], false);
  }
}

/**
  Attaches click event listener to subnav toggle.
  @param {HTMLElement} subnavToggle Toggle element of subnavigation.
*/
function setupSubnavToggle(subnavToggle) {
  subnavToggle.addEventListener('click', function (event) {
    event.preventDefault();
    event.stopPropagation();

    var subnav = subnavToggle.parentElement;
    var isActive = subnav.classList.contains('is-active');

    closeAllSubnavs();
    if (!isActive) {
      toggleSubnav(subnav, true);
    }
  });
}

// Setup all subnav toggles on the page
var subnavToggles = document.querySelectorAll('.p-subnav__toggle');

for (var i = 0, l = subnavToggles.length; i < l; i++) {
  setupSubnavToggle(subnavToggles[i]);
}

// Close all menus if anything else on the page is clicked
document.addEventListener('click', function (event) {
  var target = event.target;

  if (target.closest) {
    if (!target.closest('.p-subnav__toggle') && !target.closest('.p-subnav__item')) {
      closeAllSubnavs();
    }
  } else if (target.msMatchesSelector) {
    // IE friendly `Element.closest` equivalent
    // as in https://developer.mozilla.org/en-US/docs/Web/API/Element/closest
    do {
      if (target.msMatchesSelector('.p-subnav__toggle') || target.msMatchesSelector('.p-subnav__item')) {
        return;
      }
      target = target.parentElement || target.parentNode;
    } while (target !== null && target.nodeType === 1);

    closeAllSubnavs();
  }
});
</script>

  </body>
</html>